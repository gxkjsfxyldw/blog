{"remainingRequest":"D:\\MyBlog\\Myblog-vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\MyBlog\\Myblog-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\MyBlog\\Myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyBlog\\Myblog-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyBlog\\Myblog-vue\\src\\components\\markdown\\MarkdownEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyBlog\\Myblog-vue\\src\\components\\markdown\\MarkdownEditor.vue","mtime":1663409449882},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662220380556},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1662220379588},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662220387677},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662220380556},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662220386645}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mavonEditor } from 'mavon-editor';\nimport 'mavon-editor/dist/css/index.css';\nimport { upload } from '@/api/upload';\nexport default {\n  name: \"MarkdownEditor\",\n  props: {\n    editor: Object\n  },\n  components: {\n    mavonEditor: mavonEditor\n  },\n  data: function data() {\n    return {};\n  },\n  mounted: function mounted() {\n    this.$set(this.editor, 'ref', this.$refs.md);\n  },\n  methods: {\n    imgAdd: function imgAdd(pos, $file) {\n      var that = this;\n      var formdata = new FormData();\n      formdata.append('image', $file);\n      upload(formdata).then(function (res) {\n        //  第二步，将返回的url替换到文本原来的位置[...](./)->![...](rul)\n        if (res.data.success) {\n          that.$refs.md.$img2Url(pos, res.data.data);\n        } else {\n          that.$message({\n            message: res.data.msg,\n            type: 'error',\n            showClose: true\n          });\n        }\n      }).catch(function (err) {\n        that.$message({\n          message: err,\n          type: 'error',\n          showClose: true\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["MarkdownEditor.vue"],"names":[],"mappings":";;;;;;;;;;;AAYA,SAAA,WAAA,QAAA,cAAA;AACA,OAAA,iCAAA;AACA,SAAA,MAAA,QAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GALA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA,EAAA;AACA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,IAAA,CAAA,KAAA,MAAA,EAAA,KAAA,EAAA,KAAA,KAAA,CAAA,EAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,kBACA,GADA,EACA,KADA,EACA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA;AAEA,MAAA,MAAA,CAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,EAAA,CAAA,QAAA,CAAA,GAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA;AAAA,YAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AAAA,YAAA,IAAA,EAAA,OAAA;AAAA,YAAA,SAAA,EAAA;AAAA,WAAA;AACA;AACA,OAPA,EAOA,KAPA,CAOA,UAAA,GAAA,EAAA;AACA,QAAA,IAAA,CAAA,QAAA,CAAA;AAAA,UAAA,OAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA,OAAA;AAAA,UAAA,SAAA,EAAA;AAAA,SAAA;AACA,OATA;AAUA;AAhBA;AAdA,CAAA","sourcesContent":["<template>\r\n  <mavon-editor\r\n      class=\"me-editor\"\r\n      ref=\"md\"\r\n      v-model=\"editor.value\"\r\n      @imgAdd=\"imgAdd\"\r\n      v-bind=\"editor\">\r\n  </mavon-editor>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {mavonEditor} from 'mavon-editor'\r\nimport 'mavon-editor/dist/css/index.css'\r\nimport {upload} from '@/api/upload'\r\n\r\nexport default {\r\n  name: \"MarkdownEditor\",\r\n  props:{\r\n    editor:Object\r\n  },\r\n  components:{\r\n   mavonEditor\r\n  },\r\n  data(){\r\n    return{}\r\n  },\r\n  mounted(){\r\n    this.$set(this.editor, 'ref', this.$refs.md)\r\n  },\r\n  methods:{\r\n    imgAdd(pos, $file) {\r\n      let that=this;\r\n      let formdata = new FormData();\r\n      formdata.append('image', $file);\r\n\r\n      upload(formdata).then(res => {\r\n      //  第二步，将返回的url替换到文本原来的位置[...](./)->![...](rul)\r\n        if(res.data.success){\r\n          that.$refs.md.$img2Url(pos, res.data.data);\r\n        }else{\r\n          that.$message({message:res.data.msg,type:'error',showClose:true})\r\n        }\r\n      }).catch(err=>{\r\n        that.$message({message:err,type:'error',showClose:true})\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.me-editor {\r\n  z-index: 6 !important;\r\n}\r\n\r\n.v-note-wrapper.fullscreen {\r\n  top: 60px !important\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/markdown"}]}