{"remainingRequest":"D:\\MyBlog\\Myblog-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\MyBlog\\Myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyBlog\\Myblog-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyBlog\\Myblog-vue\\src\\views\\blog\\BlogAchive.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyBlog\\Myblog-vue\\src\\views\\blog\\BlogAchive.vue","mtime":1663345250662},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662220380556},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662220387677},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662220380556},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1662220386645}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ArticleScrollPage from \"@/components/common/ArticleScrollPage\";\nimport { listArchives as _listArchives } from \"@/api/article\";\nexport default {\n  name: \"BlogAchive\",\n  components: {\n    \"article-scroll-page\": ArticleScrollPage\n  },\n  data: function data() {\n    return {\n      article: {\n        query: {\n          month: this.$route.params.month,\n          year: this.$route.params.year\n        }\n      },\n      archives: []\n    };\n  },\n  created: function created() {\n    this.listArchives();\n  },\n  watch: {\n    '$route': function $route() {\n      if (this.$route.params.year && this.$route.params.month) {\n        this.article.query.year = this.$route.params.year;\n        this.article.query.month = this.$route.params.month;\n      }\n    }\n  },\n  computed: {\n    title: function title() {\n      return this.currentArchive + '-文章归档';\n    },\n    currentArchive: function currentArchive() {\n      if (this.article.query.year && this.article.query.month) {\n        return \"\".concat(this.article.query.year, \"\\u5E74\").concat(this.article.query.month, \"\\u6708\");\n      }\n\n      return '全部';\n    }\n  },\n  methods: {\n    changeArchive: function changeArchive(year, month) {\n      this.$router.push({\n        path: \"/archives/\".concat(year, \"/\").concat(month)\n      });\n    },\n    listArchives: function listArchives() {\n      var _this = this;\n\n      //发起http请求 请求后端的数据\n      _listArchives().then(function (res) {\n        if (res.data.success) {\n          _this.archives = res.data.data;\n        } else {\n          _this.$message({\n            type: 'error',\n            message: '文章归档加载失败!',\n            showClose: true\n          });\n        }\n      }).catch(function (err) {\n        _this.$message.error(\"系统错误\");\n      }).finally(function () {});\n    }\n  }\n};",{"version":3,"sources":["BlogAchive.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,iBAAA,MAAA,uCAAA;AACA,SAAA,YAAA,IAAA,aAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,2BAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,KAAA,EAAA;AACA,UAAA,KAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KADA;AAEA,UAAA,IAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAFA;AADA,OADA;AAOA,MAAA,QAAA,EAAA;AAPA,KAAA;AASA,GAfA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,YAAA;AACA,GAlBA;AAmBA,EAAA,KAAA,EAAA;AACA,YADA,oBACA;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,IAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA;AACA,aAAA,OAAA,CAAA,KAAA,CAAA,IAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA;AACA,aAAA,OAAA,CAAA,KAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA;AACA;AACA;AANA,GAnBA;AA2BA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA,KAAA,cAAA,GAAA,OAAA;AACA,KAHA;AAIA,IAAA,cAJA,4BAIA;AACA,UAAA,KAAA,OAAA,CAAA,KAAA,CAAA,IAAA,IAAA,KAAA,OAAA,CAAA,KAAA,CAAA,KAAA,EAAA;AACA,yBAAA,KAAA,OAAA,CAAA,KAAA,CAAA,IAAA,mBAAA,KAAA,OAAA,CAAA,KAAA,CAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA;AATA,GA3BA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,IADA,EACA,KADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,sBAAA,IAAA,cAAA,KAAA;AAAA,OAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AAAA;;AACA;AACA,MAAA,aAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA;AAAA,YAAA,IAAA,EAAA,OAAA;AAAA,YAAA,OAAA,EAAA,WAAA;AAAA,YAAA,SAAA,EAAA;AAAA,WAAA;AACA;AACA,OANA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA;AACA,OARA,EAQA,OARA,CAQA,YAAA,CACA,CATA;AAUA;AAhBA;AAtCA,CAAA","sourcesContent":["<template>\r\n  <div v-title :data-title=\"title\">\r\n      <el-container>\r\n        <el-aside class=\"me-area\">\r\n          <ul class=\"me-month-list\">\r\n            <li v-for=\"a in archives\" :key=\"a.year+a.month\" class=\"me-month-item\">\r\n              <el-badge :value=\"a.count\">\r\n                <el-button @click=\"changeArchive(a.year,a.month)\" size=\"small\">\r\n                {{a.year+'年'+a.month+'月'}}\r\n                </el-button>\r\n              </el-badge>\r\n            </li>\r\n          </ul>\r\n        </el-aside>\r\n        <el-main class=\"me-articles\">\r\n          <div class=\"me-month-title\">\r\n          {{currentArchive}}\r\n          </div>\r\n          <article-scroll-page v-bind=\"article\"></article-scroll-page>\r\n        </el-main>\r\n      </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ArticleScrollPage from \"@/components/common/ArticleScrollPage\";\r\nimport {listArchives} from \"@/api/article\";\r\n\r\nexport default {\r\n  name: \"BlogAchive\",\r\n  components: {\r\n   \"article-scroll-page\": ArticleScrollPage\r\n  },\r\n  data(){\r\n    return{\r\n      article:{\r\n        query:{\r\n          month:this.$route.params.month,\r\n          year:this.$route.params.year,\r\n        }\r\n      },\r\n      archives:[]\r\n    }\r\n  },\r\n  created() {\r\n    this.listArchives()\r\n  },\r\n  watch:{\r\n    '$route'(){\r\n      if(this.$route.params.year && this.$route.params.month){\r\n        this.article.query.year = this.$route.params.year\r\n        this.article.query.month = this.$route.params.month\r\n      }\r\n    }\r\n  },\r\n  computed:{\r\n    title(){\r\n      return this.currentArchive+'-文章归档'\r\n    },\r\n    currentArchive(){\r\n      if(this.article.query.year&&this.article.query.month){\r\n        return `${this.article.query.year}年${this.article.query.month}月`\r\n      }\r\n      return '全部'\r\n    }\r\n  },\r\n  methods:{\r\n    changeArchive(year,month){\r\n      this.$router.push({path: `/archives/${year}/${month}`})\r\n    },\r\n    listArchives(){\r\n      //发起http请求 请求后端的数据\r\n      listArchives().then((res)=>{\r\n        if(res.data.success){\r\n          this.archives = res.data.data;\r\n        }else{\r\n          this.$message({type: 'error', message: '文章归档加载失败!', showClose: true})\r\n        }\r\n      }).catch((err)=>{\r\n        this.$message.error(\"系统错误\");\r\n      }).finally(()=>{\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.el-container {\r\n  width: 640px;\r\n}\r\n\r\n.el-aside {\r\n  position: fixed;\r\n  left: 200px;\r\n  margin-right: 50px;\r\n  width: 150px !important;\r\n}\r\n\r\n.el-main {\r\n  padding: 0px;\r\n  line-height: 16px;\r\n}\r\n\r\n.me-month-list {\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  text-align: center;\r\n  list-style-type: none;\r\n}\r\n\r\n.me-month-item {\r\n  margin-top: 18px;\r\n  padding: 4px;\r\n  font-size: 18px;\r\n  color: #5FB878;\r\n}\r\n\r\n.me-order-list {\r\n  float: right;\r\n}\r\n\r\n.me-month-title {\r\n  margin-left: 4px;\r\n  margin-bottom: 12px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/blog"}]}