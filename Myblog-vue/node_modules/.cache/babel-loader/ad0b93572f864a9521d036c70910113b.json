{"remainingRequest":"D:\\MyBlog\\Myblog-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\MyBlog\\Myblog-vue\\src\\router\\index.js","dependencies":[{"path":"D:\\MyBlog\\Myblog-vue\\src\\router\\index.js","mtime":1664857059126},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662220380556},{"path":"D:\\MyBlog\\Myblog-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1662220387677}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.some\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Index from \"../views/index.vue\";\nimport Home from '@/Home';\nimport BlogAllCategory from \"@/views/blog/BlogAllCategoryTag\";\nimport BlogCategoryTag from \"@/views/blog/BlogCategoryTagByID\";\nimport BlogArchive from \"@/views/blog/BlogArchive\";\nimport BlogView from \"@/views/blog/BlogView\";\nimport store from '@/store';\nimport { Message } from \"element-ui\";\nVue.use(VueRouter); //每个路由对应一个组件\n\nvar routes = [{\n  //路由的顺序问题很重要\n  path: '/write/:id?',\n  name: 'BlogWrite',\n  component: function component() {\n    return import('@/views/blog/BlogWrite');\n  },\n  meta: {\n    requireLogin: true\n  }\n}, {\n  path: '',\n  name: 'Home',\n  props: true,\n  component: Home,\n  redirect: '/index',\n  //当什么都不输入时，重定向到首页\n  //  子路由  这些是在登录状态需要显示的路由\n  children: [{\n    path: '/',\n    name: 'Index',\n    component: function component() {\n      return import('@/views/index');\n    }\n  }, {\n    path: '/:type/all',\n    name: 'BlogAllCategory',\n    component: function component() {\n      return import('@/views/blog/BlogAllCategoryTag');\n    }\n  }, {\n    path: '/view/:id',\n    name: 'BlogView',\n    component: function component() {\n      return import('@/views/blog/BlogView');\n    }\n  }, {\n    path: '/:type/:id',\n    name: 'BlogCategoryTag',\n    component: function component() {\n      return import('@/views/blog/BlogCategoryTagByID');\n    }\n  }, {\n    path: '/archives/:year?/:month?',\n    name: 'BlogArchive',\n    component: function component() {\n      return import('@/views/blog/BlogArchive');\n    }\n  }]\n}, {\n  path: '/Register',\n  name: 'Register',\n  component: function component() {\n    return import('@/views/Register');\n  }\n}, {\n  path: '/login',\n  name: 'Login',\n  component: function component() {\n    return import('@/views/Login');\n  }\n}]; // 3.创建router实例。然后传 router配置\n\nvar router = new VueRouter({\n  mode: 'history',\n  routes: routes\n});\nexport default router; //导航守卫\n\nrouter.beforeEach(function (to, from, next) {\n  //如果存在token 说明用户登录过了\n  if (store.state.token) {\n    //路径如果是请求的login登录界面，如果存在token，直接跳回首页，不需要再次登录\n    if (top.path == \"/login\") {\n      next({\n        path: '/'\n      }); //跳转到首页\n    } else {\n      //是否有账号信息。如果没有 则获取\n      if (store.state.account.length == 0) {\n        //获取用户信息\n        store.dispatch(\"getUserInfo\").then(function (res) {\n          next();\n        }).catch(function (error) {\n          Message({\n            type: 'warning',\n            showClose: true,\n            message: '登录已经过期'\n          });\n          next({\n            path: '/'\n          }); //跳转到首页\n        });\n      } else {\n        next();\n      }\n    }\n  } else {\n    //未登录时\n    if (to.matched.some(function (r) {\n      return r.meta.requireLogin;\n    })) {\n      Message({\n        type: 'warning',\n        showClose: true,\n        message: '请先登录'\n      });\n    } else {\n      // next({path:'/login'})//跳转到登录\n      next();\n    }\n  }\n});",{"version":3,"sources":["D:\\MyBlog\\Myblog-vue\\src\\router\\index.js"],"names":["Vue","VueRouter","Index","Home","BlogAllCategory","BlogCategoryTag","BlogArchive","BlogView","store","Message","use","routes","path","name","component","meta","requireLogin","props","redirect","children","router","mode","beforeEach","to","from","next","state","token","top","account","length","dispatch","then","res","catch","error","type","showClose","message","matched","some","r"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,eAAP,MAA4B,iCAA5B;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AAEAT,GAAG,CAACU,GAAJ,CAAQT,SAAR,E,CAEA;;AACA,IAAMU,MAAM,GAAG,CACd;AAAE;AACDC,EAAAA,IAAI,EAAE,aADP;AAECC,EAAAA,IAAI,EAAE,WAFP;AAGCC,EAAAA,SAAS,EAAE;AAAA,WAAI,OAAO,wBAAP,CAAJ;AAAA,GAHZ;AAICC,EAAAA,IAAI,EAAE;AACLC,IAAAA,YAAY,EAAE;AADT;AAJP,CADc,EASd;AACCJ,EAAAA,IAAI,EAAE,EADP;AAECC,EAAAA,IAAI,EAAE,MAFP;AAGCI,EAAAA,KAAK,EAAC,IAHP;AAICH,EAAAA,SAAS,EAAEX,IAJZ;AAKCe,EAAAA,QAAQ,EAAC,QALV;AAKoB;AACnB;AACAC,EAAAA,QAAQ,EAAE,CACT;AACCP,IAAAA,IAAI,EAAE,GADP;AAECC,IAAAA,IAAI,EAAE,OAFP;AAGCC,IAAAA,SAAS,EAAE;AAAA,aAAI,OAAO,eAAP,CAAJ;AAAA;AAHZ,GADS,EAMT;AACCF,IAAAA,IAAI,EAAE,YADP;AAECC,IAAAA,IAAI,EAAE,iBAFP;AAGCC,IAAAA,SAAS,EAAE;AAAA,aAAI,OAAO,iCAAP,CAAJ;AAAA;AAHZ,GANS,EAWT;AACCF,IAAAA,IAAI,EAAE,WADP;AAECC,IAAAA,IAAI,EAAE,UAFP;AAGCC,IAAAA,SAAS,EAAE;AAAA,aAAI,OAAO,uBAAP,CAAJ;AAAA;AAHZ,GAXS,EAgBT;AACCF,IAAAA,IAAI,EAAE,YADP;AAECC,IAAAA,IAAI,EAAE,iBAFP;AAGCC,IAAAA,SAAS,EAAE;AAAA,aAAI,OAAO,kCAAP,CAAJ;AAAA;AAHZ,GAhBS,EAqBT;AACCF,IAAAA,IAAI,EAAE,0BADP;AAECC,IAAAA,IAAI,EAAE,aAFP;AAGCC,IAAAA,SAAS,EAAE;AAAA,aAAI,OAAO,0BAAP,CAAJ;AAAA;AAHZ,GArBS;AAPX,CATc,EA4Cd;AACCF,EAAAA,IAAI,EAAE,WADP;AAECC,EAAAA,IAAI,EAAE,UAFP;AAGCC,EAAAA,SAAS,EAAE;AAAA,WAAI,OAAO,kBAAP,CAAJ;AAAA;AAHZ,CA5Cc,EAiDd;AACCF,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,IAAI,EAAE,OAFP;AAGCC,EAAAA,SAAS,EAAE;AAAA,WAAI,OAAO,eAAP,CAAJ;AAAA;AAHZ,CAjDc,CAAf,C,CAwDA;;AACA,IAAMM,MAAM,GAAG,IAAInB,SAAJ,CAAc;AAC5BoB,EAAAA,IAAI,EAAE,SADsB;AAE5BV,EAAAA,MAAM,EAANA;AAF4B,CAAd,CAAf;AAIA,eAAeS,MAAf,C,CAEA;;AACAA,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAIC,IAAJ,EAASC,IAAT,EAAgB;AACjC;AACA,MAAGjB,KAAK,CAACkB,KAAN,CAAYC,KAAf,EAAqB;AACpB;AACA,QAAGC,GAAG,CAAChB,IAAJ,IAAU,QAAb,EAAsB;AACrBa,MAAAA,IAAI,CAAC;AAACb,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAJ,CADqB,CACL;AAChB,KAFD,MAEK;AACJ;AACA,UAAGJ,KAAK,CAACkB,KAAN,CAAYG,OAAZ,CAAoBC,MAApB,IAA4B,CAA/B,EAAiC;AAChC;AACAtB,QAAAA,KAAK,CAACuB,QAAN,CAAe,aAAf,EAA8BC,IAA9B,CAAmC,UAACC,GAAD,EAAO;AACzCR,UAAAA,IAAI;AACJ,SAFD,EAEGS,KAFH,CAES,UAACC,KAAD,EAAS;AACjB1B,UAAAA,OAAO,CAAC;AACP2B,YAAAA,IAAI,EAAC,SADE;AAEPC,YAAAA,SAAS,EAAC,IAFH;AAGPC,YAAAA,OAAO,EAAC;AAHD,WAAD,CAAP;AAKAb,UAAAA,IAAI,CAAC;AAACb,YAAAA,IAAI,EAAC;AAAN,WAAD,CAAJ,CANiB,CAMD;AAChB,SATD;AAUA,OAZD,MAYK;AACJa,QAAAA,IAAI;AACJ;AACD;AACD,GAtBD,MAsBK;AAAC;AACL,QAAIF,EAAE,CAACgB,OAAH,CAAWC,IAAX,CAAgB,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAAC1B,IAAF,CAAOC,YAAX;AAAA,KAAjB,CAAJ,EAA+C;AAC9CP,MAAAA,OAAO,CAAC;AACP2B,QAAAA,IAAI,EAAC,SADE;AAEPC,QAAAA,SAAS,EAAC,IAFH;AAGPC,QAAAA,OAAO,EAAC;AAHD,OAAD,CAAP;AAKA,KAND,MAMK;AACJ;AACAb,MAAAA,IAAI;AACJ;AACD;AACD,CApCD","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Index from '../views/index.vue'\r\nimport Home from '@/Home'\r\nimport BlogAllCategory from \"@/views/blog/BlogAllCategoryTag\";\r\nimport BlogCategoryTag from \"@/views/blog/BlogCategoryTagByID\";\r\nimport BlogArchive from \"@/views/blog/BlogArchive\";\r\nimport BlogView from \"@/views/blog/BlogView\";\r\nimport store from '@/store'\r\nimport {Message} from \"element-ui\";\r\n\r\nVue.use(VueRouter)\r\n\r\n//每个路由对应一个组件\r\nconst routes = [\r\n\t{ //路由的顺序问题很重要\r\n\t\tpath: '/write/:id?',\r\n\t\tname: 'BlogWrite',\r\n\t\tcomponent: ()=>import('@/views/blog/BlogWrite'),\r\n\t\tmeta: {\r\n\t\t\trequireLogin: true\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\tpath: '',\r\n\t\tname: 'Home',\r\n\t\tprops:true,\r\n\t\tcomponent: Home,\r\n\t\tredirect:'/index', //当什么都不输入时，重定向到首页\r\n\t\t//  子路由  这些是在登录状态需要显示的路由\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/',\r\n\t\t\t\tname: 'Index',\r\n\t\t\t\tcomponent: ()=>import('@/views/index')\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/:type/all',\r\n\t\t\t\tname: 'BlogAllCategory',\r\n\t\t\t\tcomponent: ()=>import('@/views/blog/BlogAllCategoryTag')\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/view/:id',\r\n\t\t\t\tname: 'BlogView',\r\n\t\t\t\tcomponent: ()=>import('@/views/blog/BlogView')\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/:type/:id',\r\n\t\t\t\tname: 'BlogCategoryTag',\r\n\t\t\t\tcomponent: ()=>import('@/views/blog/BlogCategoryTagByID')\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/archives/:year?/:month?',\r\n\t\t\t\tname: 'BlogArchive',\r\n\t\t\t\tcomponent: ()=>import('@/views/blog/BlogArchive')\r\n\t\t\t},\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/Register',\r\n\t\tname: 'Register',\r\n\t\tcomponent: ()=>import('@/views/Register')\r\n\t},\r\n\t{\r\n\t\tpath: '/login',\r\n\t\tname: 'Login',\r\n\t\tcomponent: ()=>import('@/views/Login')\r\n\t},\r\n]\r\n\r\n// 3.创建router实例。然后传 router配置\r\nconst router = new VueRouter({\r\n\tmode: 'history',\r\n\troutes\r\n})\r\nexport default router\r\n\r\n//导航守卫\r\nrouter.beforeEach((to,from,next)=>{\r\n\t//如果存在token 说明用户登录过了\r\n\tif(store.state.token){\r\n\t\t//路径如果是请求的login登录界面，如果存在token，直接跳回首页，不需要再次登录\r\n\t\tif(top.path==\"/login\"){\r\n\t\t\tnext({path:'/'})//跳转到首页\r\n\t\t}else{\r\n\t\t\t//是否有账号信息。如果没有 则获取\r\n\t\t\tif(store.state.account.length==0){\r\n\t\t\t\t//获取用户信息\r\n\t\t\t\tstore.dispatch(\"getUserInfo\").then((res)=>{\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}).catch((error)=>{\r\n\t\t\t\t\tMessage({\r\n\t\t\t\t\t\ttype:'warning',\r\n\t\t\t\t\t\tshowClose:true,\r\n\t\t\t\t\t\tmessage:'登录已经过期'\r\n\t\t\t\t\t})\r\n\t\t\t\t\tnext({path:'/'})//跳转到首页\r\n\t\t\t\t})\r\n\t\t\t}else{\r\n\t\t\t\tnext();\r\n\t\t\t}\r\n\t\t}\r\n\t}else{//未登录时\r\n\t\tif (to.matched.some(r => r.meta.requireLogin)) {\r\n\t\t\tMessage({\r\n\t\t\t\ttype:'warning',\r\n\t\t\t\tshowClose:true,\r\n\t\t\t\tmessage:'请先登录'\r\n\t\t\t})\r\n\t\t}else{\r\n\t\t\t// next({path:'/login'})//跳转到登录\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\r\n})\r\n"]}]}